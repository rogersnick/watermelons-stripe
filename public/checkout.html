<html>
  <head>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      const formatPrice = (priceCents) => {
        if (priceCents == 2500) {
            return '25 Bucks';  
          } else if (priceCents == 1000) {
            return '10 Dollars';  
          } else if (priceCents == 500) {
            return '5 Dollars';  
          } else if (priceCents == 5000) {
            return 'Fifty Big Ones!';  
          } else if (priceCents > 1000 && priceCents < 5000) {
            return `$${(priceCents/100).toFixed(2)}`;
          } else {
            return `${priceCents} cents.`;
          }
      }
      document.addEventListener("DOMContentLoaded", function(){
        document.getElementById("pwycform").addEventListener("input", function () {
          const priceCents = document.getElementById('price').value;
          document.querySelector('#payButton').innerText = formatPrice(priceCents)
         
          const watermelonsEl = document.querySelector("#watermelons");
          
          numWatermelons = priceCents / 50;
          console.log(numWatermelons, '🍉 '.repeat(numWatermelons))
          document.querySelector('#youPay').innerHTML = `Adds ${numWatermelons} watermelons.`
          watermelonsEl.innerHTML = `<span id="watermelons">${'🍉 '.repeat(numWatermelons)}</span>`;
        
        });
      
      });
    </script>
  </head>
  <body>

    <div class="grid items-center min-h-screen px-4 gap-4 md:px-6 lg:gap-0 lg:grid-cols-[1fr_1fr]">
      <div class="flex items-center justify-center min-h-screen">
        <div class="w-full max-w-sm space-y-6">
          <form class="grid gap-2" id="pwycform" action="/create-checkout-session" method="post">
            <div class="space-y-2">
              <h1 id="youPay" class="text-3xl font-bold tracking-tighter sm:text-4xl">Select an amount.</h1>
              <div class="animate-bounce">
                <span id="watermelons">🍉 </span>
              </div>
            </div>  
            <input 
            type="range" 
            id="price" name="price"
            value="50" step="50" min="50" max="5000"
            class="w-full	appearance-none [&::-webkit-slider-runnable-track]:rounded-full [&::-webkit-slider-runnable-track]:bg-green-800/25 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-[30px] [&::-webkit-slider-thumb]:w-[50px] [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-pink-500"
          >
                <button 
                  id="payButton" 
                  class="bg-lime-500 hover:bg-pink-400 text-white font-bold py-2 px-4 border-b-4 border-green-700 hover:border-green-500 rounded text-2xl font-bold tracking-tighter sm:text-3xl"
                >
                  Use the slider above.
                </button>
            </form>
        </div>
      </div>
      <div class="flex items-center justify-center">
        <img
          src="/img/watermelon-computer.png"
          alt="Hero"
          width="960"
          height="540"
          class="overflow-hidden rounded-xl object-cover object-center"
        />
      </div>
    </div>


  <div class="flex flex-row justify-center items-center pb-0.5">
    <div class="font-thin text-xs">🍉 🍉 🍉 🍉 🍉 🍉 🍉 🍉 🍉 🍉 🍉 🍉 <br />
      <br /><br />* Counts Updated Daily  <hr /> </div>
  </div>

  </body>
</html>
